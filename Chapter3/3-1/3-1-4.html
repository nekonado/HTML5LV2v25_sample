<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset=utf-8>
    <title>ドラッグ＆ドロップのサンプル</title>
    <script>
        function dragHandler(event) { //･･････････ドラッグ時の処理
            let pElement = document.getElementById("disp");
            //ドラッグするデータの識別子をDataTransferオブジェクトにセット
            event.dataTransfer.setData("text", "COIN");
            pElement.innerHTML = "dragged !";
        }
        function dropHandler(event) { //･･･････････ドロップ時の処理
            let pElement = document.getElementById("disp");
            //ドロップされたデータの識別子を取得
            id = event.dataTransfer.getData('text');
            pElement.innerHTML = id + " dropped !";
            event.preventDefault();
        }
        function dropHandler2(event) { //･･･････追加する処理
            alert("dropHandler2() was called.");
        }
        function addHandler() { //･･････････イベントリスナを追加
            targetObject = document.getElementById("to");
            targetObject.addEventListener("drop", dropHandler2, false);
        }
    </script>
</head>

<body onload="addHandler();">
    <div id="from" draggable="true" ondragstart="dragHandler(event);">
        <p>【COIN】</p>
    </div>
    <p>
    <div id="to" ondragover="event.preventDefault();" ondrop="dropHandler(event);">
        <p>■BOX■</p>
    </div>
    <p id="disp"> status </p>
</body>

</html>